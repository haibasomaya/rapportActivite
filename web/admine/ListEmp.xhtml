<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui">

    <ui:composition template="/templates/grTemplate.xhtml">

        <ui:define name="title">
            <center><h:outputText value="Employes de la Division"></h:outputText></center>
        </ui:define>

        <ui:define name="body">
            <h:form>
                <b:panel style="background-color: #1b6d85;">
                    <div class="row">
                        <div class="col-lg-6">
                            <b:label value="#{bundle.CreateEmployeLabel_login}" />
                            <b:inputText id="login" value="#{employeController.login}" title="#{bundle.CreateEmployeTitle_login}" />
                            <b:label value="Etat des compte:" />
                            <b:selectOneMenu id="etat" value="#{employeController.etat}" >
                                <f:selectItem itemLabel="-select-" itemValue="-1"/>
                                <f:selectItem itemLabel="Bloquer" itemValue="1"/>
                                <f:selectItem itemLabel="Non Bloquer" itemValue="0"/>
                            </b:selectOneMenu>
                        </div>
                        <div class="col-lg-6">
                            <b:label value="#{bundle.CreateEmployeLabel_nom}"/>
                            <b:inputText id="nom" value="#{employeController.nom}" title="#{bundle.CreateEmployeTitle_nom}" />
                            <b:label value="#{bundle.CreateEmployeLabel_prenom}"  />
                            <b:inputText id="prenom" value="#{employeController.prenom}" title="#{bundle.CreateEmployeTitle_prenom}" />
                        </div>
                    </div> 
                    <b:commandButton action="#{employeController.recherche()}" value="Chercher" update=":EmployeListForm:datalist" style="float: left;"></b:commandButton><br></br>
                </b:panel>
            </h:form>

            <h:form id="EmployeListForm">
                <b:dataTable id="datalist" value="#{employeController.employes}" var="item"    class="data" >
                    <b:column>
                        <f:facet name="header">
                            <h:outputText value="Nom"/>
                        </f:facet>
                        <h:outputText value="#{item.nom}"/>
                    </b:column>
                    <b:column>
                        <f:facet name="header">
                            <h:outputText value="Prenom"/>
                        </f:facet>
                        <h:outputText value="#{item.prenom}"/>
                    </b:column>
                    <b:column>
                        <f:facet name="header">
                            <h:outputText value="Login"/>
                        </f:facet>
                        <h:outputText value="#{item.login}"/>
                    </b:column>
                    <b:column>
                        <f:facet name="header">
                            <h:outputText value="Telephone"/>
                        </f:facet>
                        <h:outputText value="#{item.tel}"/>
                    </b:column>
                    <b:column >
                        <f:facet name="header">
                            <h:outputText value="Poste"/>
                        </f:facet>
                        <h:outputText value="#{item.numPost}"/>
                    </b:column>
                    <b:column>
                        <f:facet name="header">
                            <h:outputText value="Bureau"/>
                        </f:facet>
                        <h:outputText value="#{item.numBureau}"/>
                    </b:column>
                    <b:column>
                        <f:facet name="header">
                            <h:outputText value="Service"/>
                        </f:facet>
                        <h:outputText value="#{item.service}"/>
                    </b:column>
                    <b:column>
                        <f:facet name="header">
                            <h:outputText value="Fonction"/>
                        </f:facet>
                        <h:outputText value="#{item.fonction}"/>
                    </b:column>
                    <b:column>
                        <f:facet name="header">
                            <h:outputText value="Gestion"/>
                        </f:facet>
                        <b:commandButton class="inline" icon="#{(item.bloquer==1)?'ui-icon-key':'ui-icon-locked'}"  actionListener="#{employeController.bloquerDebloquer(item)}" />
                        <b:commandButton id="viewButton" class="inline"  icon="ui-icon-person"  update=":EmployeViewForm" oncomplete="PF('EmployeViewDialog').show()" disabled="#{empty employeController.selected}"/>
                        <b:commandButton id="editButton"  class="inline" icon="ui-icon-pencil"  update=":EmployeEditForm" oncomplete="PF('EmployeEditDialog').show()" disabled="#{empty employeController.selected}"/>
                        <b:commandButton id="deleteButton" class="inline" icon="ui-icon-trash"   actionListener="#{employeController.destroy}" update=":EmployeListForm:datalist" disabled="#{empty employeController.selected}"/>

                    </b:column>
                </b:dataTable>
            </h:form>
            <ui:include src="/employe/Edit.xhtml"/>
            <ui:include src="/employe/View.xhtml"/>
        </ui:define>
    </ui:composition>

    <style>
        .data{
            position: relative;
            background-color: #FFFFFF;
            border-radius: 3%;
        }
        /* Standard syntax */
        @keyframes example {
            0%   {left:-1000px;}
            50%  {left:100px;}
            100% { left:0px;}
        }


    </style>
</html>
